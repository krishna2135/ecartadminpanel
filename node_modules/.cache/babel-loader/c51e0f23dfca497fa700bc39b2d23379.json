{"ast":null,"code":"import _classCallCheck from \"E:\\\\ecart\\\\Admin-eCommerce-ReactJS\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\ecart\\\\Admin-eCommerce-ReactJS\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\ecart\\\\Admin-eCommerce-ReactJS\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\ecart\\\\Admin-eCommerce-ReactJS\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\ecart\\\\Admin-eCommerce-ReactJS\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"E:\\\\ecart\\\\Admin-eCommerce-ReactJS\\\\src\\\\components\\\\Categories\\\\index.jsx\";\nimport React, { Component } from 'react';\nimport './categories.scss';\nimport axios from 'axios';\nimport _ from 'lodash';\nimport { url } from '../../config';\nimport { connect } from 'react-redux';\nimport { categoryAction } from '../../actions';\nimport Header from '../Header';\nimport Navbar from '../Navbar';\nimport AddCategory from './AddCategory';\nimport Category from './Category';\n\nvar index =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(index, _Component);\n\n  function index() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, index);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(index)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      new_category: true,\n      categories: [1, 2, 3, 4, 5, 6, 7, 8],\n      loading: true\n    };\n\n    _this.fetchCategories = function () {\n      axios.get(url + '/category').then(function (res) {\n        if (_.isArray(res.data.data)) {\n          _this.props.categoryAction(res.data.data);\n\n          _this.setState({\n            categories: res.data.data,\n            loading: false\n          });\n        }\n      });\n    };\n\n    _this.newCategory = function () {\n      _this.setState({\n        new_category: !_this.state.new_category\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(index, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var category = localStorage.getItem('categories');\n\n      if (_.isString(category)) {\n        var categories = JSON.parse(category);\n        if (_.isArray(categories)) this.setState({\n          categories: categories,\n          loading: false\n        });\n      }\n\n      this.fetchCategories();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          new_category = _this$state.new_category,\n          categories = _this$state.categories,\n          loading = _this$state.loading;\n      return React.createElement(\"div\", {\n        className: \"categories\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }), React.createElement(Navbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }), //loading fect data categories\n      loading ? React.createElement(\"div\", {\n        className: \"wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \" \", categories.map(function (category) {\n        return React.createElement(\"div\", {\n          key: category,\n          className: \"loading-list\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        });\n      })) : React.createElement(\"div\", {\n        className: \"wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, \"Categories\"), React.createElement(\"div\", {\n        onClick: this.newCategory,\n        className: \"new\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, !new_category ? React.createElement(\"i\", {\n        className: \"demo-icon icon-cancel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, \"\\uE80F\") : React.createElement(\"i\", {\n        className: \"demo-icon icon-plus\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, \"\\uE808\")), new_category ? '' : React.createElement(AddCategory, {\n        update: this.fetchCategories,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }), categories.map(function (category) {\n        return React.createElement(Category, {\n          key: category.category_id,\n          update: _this2.fetchCategories,\n          category: category,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        });\n      })));\n    }\n  }]);\n\n  return index;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    category: state.categoriesReducer\n  };\n};\n\nexport default connect(mapStateToProps, {\n  categoryAction: categoryAction\n})(index);","map":{"version":3,"sources":["E:\\ecart\\Admin-eCommerce-ReactJS\\src\\components\\Categories\\index.jsx"],"names":["React","Component","axios","_","url","connect","categoryAction","Header","Navbar","AddCategory","Category","index","state","new_category","categories","loading","fetchCategories","get","then","res","isArray","data","props","setState","newCategory","category","localStorage","getItem","isString","JSON","parse","map","category_id","mapStateToProps","categoriesReducer"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './categories.scss'\nimport axios from 'axios'\nimport _ from 'lodash'\nimport { url } from '../../config'\nimport { connect } from 'react-redux'\nimport { categoryAction } from '../../actions'\n\nimport Header from '../Header'\nimport Navbar from '../Navbar'\nimport AddCategory from './AddCategory'\nimport Category from './Category'\n\nclass index extends Component {\n    state = {\n        new_category: true,\n        categories: [1,2,3,4,5,6,7,8],\n        loading: true,\n    }\n    \n    componentDidMount(){\n        let category = localStorage.getItem('categories')\n        if(_.isString(category)){\n            let categories = JSON.parse(category)\n            if(_.isArray(categories))\n                this.setState({ categories, loading: false })\n        }\n        this.fetchCategories()\n    }\n\n    fetchCategories = () => {\n        axios.get( url + '/category' )\n        .then(res=>{\n            if(_.isArray(res.data.data)){\n                this.props.categoryAction(res.data.data)\n                this.setState({ categories: res.data.data, loading: false })\n            }\n        })\n    }\n\n    newCategory = () => {\n        this.setState({ new_category: !this.state.new_category })\n    }\n\n    render() {\n        const { new_category, categories, loading } = this.state\n        return (\n            <div className=\"categories\">\n                <Header />\n                <Navbar />\n\n                { //loading fect data categories\n                    loading ? <div className=\"wrapper\"> { categories.map(category=>{ return(<div key={category} className=\"loading-list\"></div>) }) }</div> :\n                \n\n                <div className=\"wrapper\">\n                    <span>Categories</span>\n\n                    {/* Button for add category */}\n                    <div onClick={this.newCategory} className=\"new\">\n                       { !new_category ? <i className=\"demo-icon icon-cancel\">&#xe80f;</i> : <i className=\"demo-icon icon-plus\">&#xe808;</i> } \n                    </div>\n\n                    {/* Component for input new category */}\n                    { new_category ? '' : <AddCategory update={this.fetchCategories} />  }\n\n                    {/* List all categories */}\n                    {\n                        categories.map(category=>{\n                            return(\n                                <Category key={category.category_id} update={this.fetchCategories} category={category} />\n                            )\n                        })\n                    }\n\n                </div>\n\n                }\n\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return({\n        category: state. categoriesReducer\n    })\n}\n\nexport default connect(mapStateToProps, { categoryAction })(index);"]},"metadata":{},"sourceType":"module"}